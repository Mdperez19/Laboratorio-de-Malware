#include "funciones.hpp"
void obtenerArchivos(vector<string>& malwares){
    DIR *directorio;
    struct dirent *archivos;
    string dir;
    if(directorio=opendir("Malware/")){
        while (archivos=readdir(directorio)){
            string nombre(archivos->d_name);
            if(nombre.compare(".")!=0 && nombre.compare("..")!=0 ){
                malwares.push_back(nombre);
            }
        }
    }

    closedir(directorio);
}

void SHA1(const string& archivo){
    const string comando="sha1sum Malware/"+archivo+" | awk '{printf \"%45s\\n\", $1}' >> hashes.txt";
    //const char *comandoSystem = comando.c_str();
    system(comando.c_str());
    //cout << comando<<endl;
}

void obtenerEnsamblador(const int& m,const string& archivo){
    const string comando="objdump -d Malware/"+archivo+" > Ensambladores/Ensamblador_m"+to_string(m)+string(".txt");
    system(comando.c_str());
}